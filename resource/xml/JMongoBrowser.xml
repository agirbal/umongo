<?xml version="1.0" encoding="UTF-8"?>

<!--
    Document   : JMongoBrowser.xml
    Created on : January 31, 2011, 3:11 PM
    Author     : antoine
    Description:
        Purpose of the document follows.
-->

<org.mongo.jmongob.JMongoBrowser id="jmongob" start="start" stop="stop">
    <IconGroup id="icons" folder="img" resource="true"/>
    <IconGroup id="etIcons" folder="com/edgytech/swingfast/img" resource="true"/>
    <org.mongo.jmongob.GlobalStore id="globalStore">
        <org.mongo.jmongob.OptionDialog id="optionDialog">
            <TabbedDiv>
                <Div id="queryOption">
                    <CheckBox id="slaveOk" toolTipText="When turned on, read queries will be directed to slave servers instead of the primary server"/>
                    <CheckBox id="noTimeout" toolTipText="If turned on, the cursor will not be timed out on the server."/>
                    <CheckBox id="tailable" toolTipText="Tailable means cursor is not closed when the last data is retrieved. You can resume using the cursor later, if more data exists."/>
                    <CheckBox id="awaitData" toolTipText="Use with TailableCursor. If cursor is at the end of the data, it blocks for a while rather than returning no data."/>
                    <CheckBox id="exhaust" toolTipText="Stream the data down full blast in multiple 'getMore' packages, on the assumption that the client will fully read all data queried."/>
                    <CheckBox id="partial" toolTipText="Allows mongos to return partial results from a sharded system if any shard is down."/>
                    <CheckBox id="opLogReplay" toolTipText="Internal replication use only - driver should not set"/>
                </Div>
                <Div id="writeConcern">
                    <IntSpinner id="writeFactor" minValue="0" value="0" toolTipText="Sets the number of servers that write should be acknowledged from. 0 means 'fire-and-forget'."/>
                    <TextField id="writePolicy" toolTipText="Sets the write policy. If set, will override the write factor number."/>
                    <IntSpinner id="writeTimeout" minValue="0" value="0" toolTipText="Timeout in milliseconds for primary server to ensure that write operation was fulfilled on all servers."/>
                    <CheckBox id="fsync" value="false" toolTipText="Forces syncing of memory to disk on the server before acknowledgment of write operation success."/>
                    <CheckBox id="jsync" value="false" toolTipText="Waits that the data has been commited to the journal on disk."/>
                </Div>
                <Div id="readPreference">
                    <ComboBox id="rpPreference" label="Read Preference" items="None;Primary;Secondary" value="0" toolTipText="The read preference mode. Primary to read from master, Secondary to read from slaves."/>
                </Div>
            </TabbedDiv>
        </org.mongo.jmongob.OptionDialog>
        <org.mongo.jmongob.ErrorDialog id="errorDialog">
            <Text id="errorIcon" icon="error.png" iconGroup="icons"/>
            <Text id="errorIn" label="Error in" field="true"/>
            <Text id="errorMsg" label="Message" field="true"/>
            <Text id="errorCode" label="Code" field="true"/>
            <TextArea id="errorTrace" label="Trace" rows="20" columns="50" editable="false"/>
        </org.mongo.jmongob.ErrorDialog>
        <org.mongo.jmongob.AutoUpdateDialog id="autoUpdateDialog">
            <ComboBox id="autoType" lable="Update Type" items="Refresh;Append"/>
            <IntSpinner id="autoInterval" label="Interval" minValue="0" value="5000" toolTipText="Interval between each update, in milliseconds"/>
            <IntSpinner id="autoCount" label="Count" minValue="0" value="100" toolTipText="Number of times to update, 0 means forever"/>
        </org.mongo.jmongob.AutoUpdateDialog>
        <org.mongo.jmongob.ExportDialog id="exportDialog">
            <FileChooserField id="outputFile">
                <FileChooserDialog type="SAVE" mode="FILES_ONLY"/>
            </FileChooserField>
            <ComboBox id="format" items="JSON;JSON Array;CSV;BSON" toolTipText="Format to use for the export"/>
            <TextField id="fields" toolTipText="Comma-separated list of fields to export, mandatory for CSV format"/>
            <CheckBox id="continueOnError" toolTipText="Continue after an error occurs"/>
        </org.mongo.jmongob.ExportDialog>
        <org.mongo.jmongob.ImportDialog id="importDialog">
            <FileChooserField id="inputFile">
                <FileChooserDialog type="OPEN" mode="FILES_ONLY"/>
            </FileChooserField>
            <ComboBox id="format" items="JSON;JSON Array;CSV;BSON" toolTipText="Format to use for the export"/>
            <CheckBox id="continueOnError" toolTipText="Continue after an error occurs"/>
            <CheckBox id="dropCollection" toolTipText="Drop collection before import"/>
            <CheckBox id="upsert" toolTipText="Upsert values instead of insert"/>
            <TextField id="upsertFields" toolTipText="Comma-separated list of fields to upsert by. If not specified, save() will be used."/>
            <CheckBox id="bulk" value="false" toolTipText="If turned on, the bulk insert function of the driver will be used. It may be faster but more client memory will be used, and error reporting is not accurate."/>
        </org.mongo.jmongob.ImportDialog>
        <org.mongo.jmongob.MongoPanel id="mongoPanel">
            <MenuBar id="menu" zone="NORTH" minHeight="50" prefHeight="50">
                <Text id="icon" icon="mongo_leaf_32.png" iconGroup="icons" toolTipText="Mongo"/>
                <Menu id="mongo">
                    <MenuItem id="createDB" label="Create DB" call="createDB">
                        <FormDialog>
                            <TextField id="createDbName" label="DB Name" nonEmpty="true"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuSeparator/>
                    <MenuItem id="refresh" label="Refresh" call="refresh" icon="stock_refresh.png" iconGroup="icons" key="r" keyMod="cmd+shift"/>
                    <MenuSeparator/>
                    <MenuItem id="close" label="Close" call="close" icon="dialog_close.png" iconGroup="icons"/>
                </Menu>
                <Menu id="command">
                    <MenuItem id="serverStatus" call="serverStatus"/>
                    <MenuItem id="isMaster" call="isMaster"/>
                    <MenuSeparator/>
                    <MenuItem id="currentOps" call="currentOps">
                        <FormDialog>
                            <org.mongo.jmongob.DocBuilderField id="currentOpsQuery" label="Query Filter" toolTipText="Optional, a query to filter operations. Use {'$all': 1} to also see internal commands."/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="killOp" call="killOp">
                        <FormDialog>
                            <IntField id="killOpId" label="opid" toolTipText="ID of the operation to kill, should be visible from Current Ops"/>
                        </FormDialog>
                    </MenuItem>
                </Menu>
                <Menu id="admin">
                    <MenuItem id="authenticate" call="authenticate">
                        <FormDialog>
                            <TextField id="authUser" toolTipText="The user name to authenticate with admin database." nonEmpty="true"/>
                            <PasswordField id="authPassword" toolTipText="The password to authenticate with admin database." nonEmpty="true"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuSeparator/>
                    <MenuItem id="shutdown" call="shutdown">
                        <ConfirmDialog text="Really shutdown this mongo server?"/>
                    </MenuItem>
                </Menu>
                <Menu id="tools">
                    <MenuItem id="fsync" call="fsync"/>
                    <CheckBoxMenuItem id="fsyncAndLock" call="fsyncAndLock"/>
                    <MenuSeparator/>
                    <MenuItem id="showLog" call="showLog"/>
                    <MenuItem id="logRotate" call="logRotate"/>
                    <MenuSeparator/>
                    <MenuItem id="cloneDB" label="Clone DB" call="cloneDB">
                        <FormDialog>
                            <TextField id="cloneDBHost" label="From Host" toolTipText="Host to copy DB from" nonEmpty="true"/>
                            <TextField id="cloneDBFrom" label="Source DB Name" nonEmpty="true"/>
                            <TextField id="cloneDBTo" label="Target DB Name"/>
                            <CheckBox id="cloneDBSlaveOk" label="Slave Ok" toolTipText="Allow the database to be cloned from a slave"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuSeparator/>
                    <MenuItem id="options" call="options"/>
                </Menu>
            </MenuBar>
            <Zone zone="CENTER">
                <Div zone="NORTH" gap="true" bgColor="255;255;255">
                    <Text id="version" label="Driver Version" field="true"/>
                    <Text id="queryOptions" field="true"/>
                    <org.mongo.jmongob.DocField id="writeConcern"/>
                    <Text id="masterServer" field="true"/>
                    <Text id="seedServers" field="true"/>
                    <Text id="activeServers" field="true"/>
                    <Text id="maxObjectSize" field="true"/>
                </Div>
            </Zone>
        </org.mongo.jmongob.MongoPanel>
        <org.mongo.jmongob.DbPanel id="dbPanel">
            <MenuBar id="menu" zone="NORTH" minHeight="50" prefHeight="50">
                <Text id="icon" icon="database.png" iconGroup="icons" toolTipText="Database"/>
                <Menu id="database">
                    <MenuItem id="createCollection" call="createCollection">
                        <FormDialog>
                            <TextField id="createCollName" label="Collection Name" nonEmpty="true"/>
                            <CheckBox id="createCollCapped" label="Is Capped"/>
                            <IntField id="createCollSize" label="Max Size" toolTipText="If capped, maximum size in bytes"/>
                            <IntField id="createCollCount" label="Max Count" toolTipText="If capped, maximum number of documents"/>
                            <CheckBox id="createCollAutoIndex" label="Auto Index Id" value="true" toolTipText="To automatically create an index on _id field, default is true"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuSeparator/>
                    <MenuItem id="refresh" label="Refresh" call="refresh" icon="stock_refresh.png" iconGroup="icons" key="r" keyMod="cmd+shift"/>
                    <MenuSeparator/>
                    <MenuItem id="dropDatabase" label="Drop Database" call="dropDatabase" icon="stock_delete.png" iconGroup="icons">
                        <ConfirmDialog text="Drop entire database?"/>
                    </MenuItem>
                </Menu>
                <Menu id="command">
                    <MenuItem id="commandCmd" label="Command" call="command">
                        <FormDialog>
                            <Text value="Input either a command name, or a JSON command"/>
                            <TextField id="commandStr" label="Command Name"/>
                            <org.mongo.jmongob.DocBuilderField id="commandJson" label="JSON Command"/>
                            <CheckBox id="commandHelp" label="Show Help"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="listCommands" call="listCommands"/>
                    <MenuItem id="eval" call="eval">
                        <FormDialog>
                            <TextArea id="evalCode" label="JS Code" toolTipText="JavaScript code to evaluate on the server" nonEmpty="true"/>
                            <CheckBox id="evalNoLock" label="No Lock" toolTipText="Run the eval without the taking the global write lock"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuSeparator/>
                    <MenuItem id="statsCmd" label="Stats" call="stats"/>
                </Menu>
                <Menu id="user">
                    <MenuItem id="authenticate" call="authenticate">
                        <FormDialog>
                            <TextField id="authUser" label="User" nonEmpty="true"/>
                            <PasswordField id="authPassword" label="Password" nonEmpty="true"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="addUser" call="addUser">
                        <FormDialog>
                            <TextField id="auUser" label="User" nonEmpty="true"/>
                            <PasswordField id="auPassword" label="Password" nonEmpty="true"/>
                            <CheckBox id="auReadOnly" label="Read-only"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="removeUser" call="removeUser">
                        <FormDialog>
                            <TextField id="ruUser" label="User" nonEmpty="true"/>
                        </FormDialog>
                    </MenuItem>
                </Menu>
                <Menu id="sharding">
                    <MenuItem id="enableSharding" call="enableSharding"/>
                    <MenuItem id="shardingInfo" call="shardingInfo"/>
                </Menu>
                <Menu id="GridFS" label="GridFS">
                    <MenuItem id="uploadFile" call="uploadFile">
                        <FormDialog id="uploadFileDialog">
                            <FileChooserField id="uploadFilePath" label="Local File">
                                <FileChooserDialog type="OPEN" selectionMode="FILES_ONLY"/>
                            </FileChooserField>
                            <TextField id="uploadFileName" label="File Name" toolTipText="Optional, Name of the file as stored on the server"/>
                            <TextField id="uploadContentType" toolTipText="Optional, Content type to associate with file"/>
                            <org.mongo.jmongob.DocBuilderField id="uploadMetadata" label="Metadata" toolTipText="Optional, JSON object representing the file's metadata"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="downloadFile" call="downloadFile">
                        <FormDialog id="downloadFileDialog">
                            <Text value="Specify a query object or a file name"/>
                            <org.mongo.jmongob.DocBuilderField id="downloadQuery" label="Query" toolTipText="Find the file using this query"/>
                            <TextField id="downloadFileName" label="File Name" toolTipText="Name of the file as stored on the server"/>
                            <FileChooserField id="downloadFilePath" label="Save As">
                                <FileChooserDialog type="SAVE" selectionMode="FILES_ONLY"/>
                            </FileChooserField>
                        </FormDialog>
                    </MenuItem>
                </Menu>
                <Menu id="tools">
                    <MenuItem id="repair" call="repair">
                        <ConfirmDialog text="Repair operation may take a long time and requires extra storage space on the server. Run repair?"/>
                    </MenuItem>
                    <MenuSeparator/>
                    <MenuItem id="profile" call="profile">
                        <FormDialog>
                            <ComboBox id="profileLevel" label="Level" items="0 - None;1 - Slow Queries;2 - All Queries" value="0" toolTipText="Profiling level for the database."/>
                            <IntField id="profileSlowMS" label="Slow MS" value="0" toolTipText="Time in millisecond over which a query is considered slow. 0 means use default."/>
                        </FormDialog>
                    </MenuItem>
                    <MenuSeparator/>
                    <MenuItem id="addJSFunction" call="addJSFunction" label="Add JS Function">
                        <FormDialog id="addJSFunctionDialog" label="Add JS Function">
                            <TextField id="addJSFunctionName" label="Name" toolTipText="Name of the function" nonEmpty="true"/>
                            <TextArea id="addJSFunctionCode" label="Function Code" toolTipText="Code of the javascript function like 'function(){ ... }'" nonEmpty="true"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="findJSFunction" call="findJSFunction" label="Find JS Function">
                        <FormDialog id="findJSFunctionDialog" label="Find JS Function">
                            <TextField id="findJSFunctionName" label="Name" toolTipText="Name of the function. Leave Empty to get all functions."/>
                        </FormDialog>
                    </MenuItem>
                    <MenuSeparator/>
                    <MenuItem id="options" call="options"/>
                </Menu>
            </MenuBar>
            <Zone zone="CENTER">
                <Div zone="NORTH" gap="true" bgColor="255;255;255">
                    <Text id="name" field="true"/>
                    <Text id="queryOptions" field="true"/>
                    <org.mongo.jmongob.DocField id="writeConcern"/>
                    <org.mongo.jmongob.CmdField id="stats" cmd="dbstats"/>
                </Div>
            </Zone>
        </org.mongo.jmongob.DbPanel>
        <org.mongo.jmongob.CollectionPanel id="collectionPanel">
            <MenuBar id="menu" zone="NORTH" minHeight="50" prefHeight="50">
                <Text id="icon" icon="folder.png" iconGroup="icons" toolTipText="Collection"/>
                <Menu id="collection">
                    <MenuItem id="ensureIndex" call="ensureIndex">
                        <FormDialog>
                            <org.mongo.jmongob.DocBuilderField id="eiKeys" label="Index Keys" toolTipText="keys to index by, in JSON format" nonEmpty="true"/>
                            <CheckBox id="eiUnique" label="Unique" toolTipText="If checked, index will be unique"/>
                            <TextField id="eiName" label="Index Name" toolTipText="Optional, a custom name for the index"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuSeparator/>
                    <MenuItem id="refresh" label="Refresh" call="refresh" icon="stock_refresh.png" iconGroup="icons" key="r" keyMod="cmd+shift"/>
                    <MenuItem id="rename" call="rename">
                        <FormDialog>
                            <TextField id="newName" nonEmpty="true"/>
                            <CheckBox id="dropTarget" value="false"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuSeparator/>
                    <MenuItem id="doImport" label="Import" call="doImport"/>
                    <MenuItem id="export" call="export"/>
                    <MenuSeparator/>
                    <MenuItem id="dropCollection" label="Drop Collection" call="dropCollection" icon="stock_delete.png" iconGroup="icons">
                        <ConfirmDialog text="Drop entire collection?"/>
                    </MenuItem>
                </Menu>
                <Menu id="command">
                    <MenuItem id="statsCmd" label="Stats" call="stats"/>
                    <MenuItem id="group" call="group">
                        <FormDialog>
                            <org.mongo.jmongob.DocBuilderField id="grpKeys" label="Keys" toolTipText="Keys to group by, in JSON format" nonEmpty="true"/>
                            <org.mongo.jmongob.DocBuilderField id="grpQuery" label="Query" toolTipText="Query to filter the input, in JSON format"/>
                            <org.mongo.jmongob.DocBuilderField id="grpInitialValue" label="Initial Value" toolTipText="Initial value for the job, in JSON format" nonEmpty="true" value='{"count": 0}'/>
                            <TextArea id="grpReduce" label="Reduce JS Function" toolTipText="reduce javascript function with signature 'void function(obj, out)' where obj is the object to process and out is the current result for that key" nonEmpty="true" value="function(obj,out){ out.count += 1; }"/>
                            <TextArea id="grpFinalize" label="Finalize JS Function" toolTipText="optional finalize javascript function with signature 'void function(out)' where out is the result for that key"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="mapReduce" call="mapReduce">
                        <FormDialog>
                            <TextArea id="mrMap" label="Map JS Function" toolTipText="map javascript function with signature 'void function map()' which should contain one or more calls to emit(key, obj)" nonEmpty="true" value="function(){ emit(this._id, {count: 1}); }"/>
                            <TextArea id="mrReduce" label="Reduce JS Function" toolTipText="reduce javascript function with signature 'result reduce(key, values)' where key is the emit key and values is the list of values to reduce.'" nonEmpty="true" value="function(key, values) { total = 0; for (var i = 0; i &lt; values.length; ++i) { total += values[i].count; }; return {count: total}; }"/>
                            <TextArea id="mrFinalize" label="Finalize JS Function" toolTipText="optional finalize javascript function with signature 'result finalize(key, out)' where out is the result for that key"/>
                            <org.mongo.jmongob.DocBuilderField id="mrQuery" label="Query" toolTipText="Query to filter the input, in JSON format"/>
                            <org.mongo.jmongob.DocBuilderField id="mrSort" label="Sort" toolTipText="Sort key for the input, in JSON format. Sort by the emit key to optimize performance."/>
                            <IntSpinner id="mrLimit" label="Limit" toolTipText="Limit of the number of input entries to process" minValue="0"/>
                            <ComboBox id="mrType" label="Output Type" items="replace;merge;reduce;inline" toolTipText="How to process the output"/>
                            <TextField id="mrOut" label="Output Collection" toolTipText="Name of the output collection" nonEmpty="true"/>
                            <TextField id="mrOutDB" label="Output Database" toolTipText="Name of the output database, if different from the input database"/>
                            <CheckBox id="mrOutSharded" label="Sharded Output" toolTipText="If true, the result collection will be sharded using the _id key."/>
                            <CheckBox id="mrJSMode" label="JS Mode"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="geoNear" call="geoNear">
                        <FormDialog>
                            <org.mongo.jmongob.DocBuilderField id="gnOrigin" label="Origin" toolTipText="Point of origin, in JSON format"/>
                            <IntSpinner id="gnNum" label="Num" toolTipText="Maximum number of entries to return" minValue="0" value="100"/>
                            <IntSpinner id="gnMaxDistance" label="Max Distance" toolTipText="Maximum distance from the point of origin" minValue="0"/>
                            <DoubleSpinner id="gnDistanceMultiplier" label="Distance Multiplier" toolTipText="Distance multiplier" minValue="0"/>
                            <org.mongo.jmongob.DocBuilderField id="gnQuery" label="Query" toolTipText="Query to filter the results by, in JSON format"/>
                            <CheckBox id="gnSpherical" label="Spherical" toolTipText="Takes into account that earth is a sphere. Coordinates must be in decimal degrees and the distance must be in radians (divide by 6371 km or 3959 miles)."/>
                            <org.mongo.jmongob.DocBuilderField id="gnSearch" label="Search" toolTipText="Search criteria for geo haystack indexing, in JSON format"/>
                        </FormDialog>
                    </MenuItem>
                </Menu>
                <Menu id="document">
                    <MenuItem id="find" call="find" key="f" keyMod="cmd+shift">
                        <FormDialog>
                            <org.mongo.jmongob.DocBuilderField id="findQuery" label="Query" toolTipText="Query to find by, in JSON format"/>
                            <org.mongo.jmongob.DocBuilderField id="findFields" label="Fields" toolTipText="Fields to include in results, in JSON format"/>
                            <org.mongo.jmongob.DocBuilderField id="findSort" label="Sort" toolTipText="Sort object, in JSON format"/>
                            <IntSpinner id="findSkip" label="Skip" minValue="0" value="0" toolTipText="Number of documents to skip"/>
                            <IntSpinner id="findLimit" label="Limit" minValue="0" value="0" toolTipText="Maximum number of documents to return"/>
                            <IntSpinner id="findBatchSize" label="Batch Size" value="0" toolTipText="If positive, the ideal batch size to return from server. If negative, instructs the server to close the cursor after 1 batch of given size."/>
                            <CheckBox id="findExplain" label="Explain" toolTipText="Explain the find processing"/>
                            <CheckBox id="findExport" label="Export to File" toolTipText="Export to file, like mongoexport utility"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="findOne" call="findOne" key="o" keyMod="cmd+shift">
                        <FormDialog>
                            <org.mongo.jmongob.DocBuilderField id="foQuery" label="Query" toolTipText="Query to find by, in JSON format"/>
                            <org.mongo.jmongob.DocBuilderField id="foFields" label="Fields" toolTipText="Fields to include in results, in JSON format"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="count" call="count" key="c" keyMod="cmd+shift">
                        <FormDialog>
                            <org.mongo.jmongob.DocBuilderField id="countQuery" label="Query" toolTipText="Query to find by, in JSON format"/>
                            <IntSpinner id="countSkip" label="Skip" minValue="0" value="0" toolTipText="Number of documents to skip"/>
                            <IntSpinner id="countLimit" label="Limit" minValue="0" value="0" toolTipText="Maximum number of documents to return"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuSeparator/>
                    <MenuItem id="insert" call="insert">
                        <FormDialog>
                            <org.mongo.jmongob.DocBuilderField id="insertDoc" label="JSON Document" toolTipText="Document to insert in JSON format" nonEmpty="true"/>
                            <IntSpinner id="insertCount" label="Insert Count" minValue="1" value="1" toolTipText="Number of documents to insert"/>
                            <CheckBox id="insertBulk" label="Bulk Insert" value="false" toolTipText="If multiple objects are inserted, use the bulk operation, faster but uses more memory."/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="save" call="save">
                        <FormDialog>
                            <org.mongo.jmongob.DocBuilderField id="saveDoc" label="JSON Document" toolTipText="Document to save in JSON format" nonEmpty="true"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="update" call="update">
                        <FormDialog>
                            <org.mongo.jmongob.DocBuilderField id="upQuery" label="Query" toolTipText="Query to match, in JSON format"/>
                            <org.mongo.jmongob.DocBuilderField id="upUpdate" label="Update" toolTipText="Update to apply to document, in JSON format" nonEmpty="true"/>
                            <CheckBox id="upUpsert" label="Upsert" toolTipText="Insert document if not present"/>
                            <CheckBox id="upMulti" label="Multi" toolTipText="Update all matched documents"/>
                            <CheckBox id="upSafe" label="Safe" toolTipText="Displays a confirmation dialog with count information before applying update."/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="remove" call="remove">
                        <FormDialog>
                            <org.mongo.jmongob.DocBuilderField id="removeQuery" label="Query" toolTipText="Query to remove by, in JSON format"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="findAndModify" call="findAndModify">
                        <FormDialog>
                            <org.mongo.jmongob.DocBuilderField id="famQuery" label="Query" toolTipText="Query to match, in JSON format"/>
                            <org.mongo.jmongob.DocBuilderField id="famFields" label="Fields" toolTipText="Fields to be returned, in JSON format"/>
                            <org.mongo.jmongob.DocBuilderField id="famSort" label="Sort" toolTipText="Sort to find 1st document by, in JSON format"/>
                            <org.mongo.jmongob.DocBuilderField id="famUpdate" label="Update" toolTipText="Update to apply to document, in JSON format"/>
                            <CheckBox id="famRemove" label="Remove" toolTipText="Remove the document found"/>
                            <CheckBox id="famReturnNew" label="Return New" toolTipText="Return the document after update"/>
                            <CheckBox id="famUpsert" label="Upsert" toolTipText="Insert document if not present"/>
                        </FormDialog>
                    </MenuItem>
                </Menu>
                <Menu id="sharding">
                    <MenuItem id="shardingInfo" call="shardingInfo"/>
                    <MenuSeparator/>
                    <MenuItem id="shardCollection" call="shardCollection" showDialog="false">
                        <FormDialog>
                            <Text value="Either pick a key from an existing index, or specify your own"/>
                            <ComboBox id="shardKeyCombo" label="Existing Key" items="None" toolTipText="Choose this option if you want to use an existing index for sharding"/>
                            <org.mongo.jmongob.DocBuilderField id="shardCustomKey" label="Custom Key" toolTipText="Specify a custom shard key. An index may be created to back that key."/>
                            <CheckBox id="shardUniqueIndex" label="Unique" toolTipText="If true, will make sure the underlying index has a unique constraint." value="false"/>
                            <Text text="Choose the shard key carefully, this operation cannot be undone."/>
                        </FormDialog>
                    </MenuItem>
                    <MenuSeparator/>
                    <MenuItem id="findChunks" call="findChunks"/>
                    <MenuItem id="moveChunk" call="moveChunk">
                        <FormDialog>
                            <org.mongo.jmongob.DocBuilderField id="mvckQuery" label="Chunk Query" toolTipText="Query to find the chunk by"/>
                            <TextField id="mvckToShard" label="To Shard" nonEmpty="true" toolTipText="Name of shard to send the chunk to"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="splitChunk" call="splitChunk">
                        <FormDialog>
                            <org.mongo.jmongob.DocBuilderField id="spckQuery" label="Chunk Query" toolTipText="Query to find the chunk by"/>
                            <CheckBox id="spckOnValue" label="Split on Value" value="false" toolTipText="If true, split chunk on provided query value, otherwise split chunk in the middle"/>
                        </FormDialog>
                    </MenuItem>
                </Menu>
                <Menu id="tools">
                    <MenuItem id="validate" call="validate">
                        <FormDialog>
                            <CheckBox id="validateFull" label="Full" toolTipText="Turns on full validation, which is slower"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="fixCollection" call="fixCollection" showDialog="false">
                        <FormDialog id="fcDialog">
                            <ComboBox id="fcSrcMongo" label="Source Mongo" toolTipText="Pick one of the other Mongo instances as source"/>
                            <CheckBox id="fcUpsert" label="Upsert" toolTipText="If checked, operation will be upsert instead of insert"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuSeparator/>
                    <MenuItem id="options" call="options"/>
                    <CheckBoxMenuItem id="lazyDecoding" value="false"/>
                </Menu>
            </MenuBar>
            <Zone zone="CENTER">
                <Div zone="NORTH" gap="true" bgColor="255;255;255">
                    <Text id="name" field="true"/>
                    <Text id="fullName" field="true"/>
                    <Text id="queryOptions" field="true"/>
                    <org.mongo.jmongob.DocField id="writeConcern"/>
                    <org.mongo.jmongob.CmdField id="stats" cmd="collstats"/>
                </Div>
            </Zone>
        </org.mongo.jmongob.CollectionPanel>
        <org.mongo.jmongob.IndexPanel id="indexPanel">
            <MenuBar id="menu" zone="NORTH" minHeight="50" prefHeight="50">
                <Text id="icon" icon="index.png" iconGroup="icons" toolTipText="Index"/>
                <Menu id="index">
                    <MenuItem id="refresh" label="Refresh" call="refresh" icon="stock_refresh.png" iconGroup="icons" key="r" keyMod="cmd+shift"/>
                    <MenuItem id="drop" label="Drop" call="drop" icon="stock_delete.png" iconGroup="icons">
                        <ConfirmDialog text="Drop index?"/>
                    </MenuItem>
                </Menu>
                <Menu id="command">
                    <MenuItem id="stats" call="stats"/>
                </Menu>
            </MenuBar>
            <Zone zone="CENTER">
                <Div zone="NORTH" gap="true" bgColor="255;255;255">
                    <Text id="name" field="true"/>
                    <Text id="ns" label="NS" field="true"/>
                    <org.mongo.jmongob.DocField id="key"/>
                    <org.mongo.jmongob.DocField id="info"/>
                </Div>
            </Zone>
        </org.mongo.jmongob.IndexPanel>
        <org.mongo.jmongob.ServerPanel id="serverPanel">
            <MenuBar id="menu" zone="NORTH" minHeight="50" prefHeight="50">
                <Text id="icon" icon="server.png" iconGroup="icons" toolTipText="Server"/>
                <Menu id="server">
                    <MenuItem id="refresh" label="Refresh" call="refresh" icon="stock_refresh.png" iconGroup="icons" key="r" keyMod="cmd+shift"/>
                </Menu>
                <Menu id="command">
                    <MenuItem id="serverStatusCmd" label="Server Status" call="serverStatus"/>
                    <MenuItem id="isMaster" call="isMaster"/>
                    <MenuSeparator/>
                    <MenuItem id="currentOps" call="currentOps">
                        <FormDialog>
                            <org.mongo.jmongob.DocBuilderField id="currentOpsQuery" label="Query Filter" toolTipText="Optional, a query to filter operations. Use {'$all': 1} to also see internal commands."/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="killOp" call="killOp">
                        <FormDialog>
                            <IntField id="killOpId" label="opid" toolTipText="ID of the operation to kill, should be visible from Current Ops"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuSeparator/>
                    <MenuItem id="setParameter" call="setParameter">
                        <FormDialog>
                            <org.mongo.jmongob.DocBuilderField id="setParameterValue" label="Parameter" nonEmpty="true" toolTipText="Modify a parameter without restarting the server, for example {logLevel: 4}"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuItem id="setLogLevel" call="setLogLevel">
                        <FormDialog>
                            <IntSpinner id="setLogLevelValue" label="Level" value="0" toolTipText="Set the log level, 0 is default"/>
                        </FormDialog>
                    </MenuItem>
                </Menu>
                <Menu id="replica">
                    <MenuItem id="replicaSetStatus" call="replicaSetStatus" label="RS Status"/>
                    <MenuItem id="oplogInfo" call="oplogInfo" label="Oplog Info"/>
                    <MenuItem id="rsStepDown" call="rsStepDown" label="Step Down" toolTipText="If primary, the server will step down to secondary to let another server be elected."/>
                    <MenuItem id="rsFreeze" call="rsFreeze" label="Freeze" toolTipText="This server will not attempt to become primary for next N seconds">
                        <FormDialog>
                            <IntField id="rsFreezeTime" label="Freeze Time (Sec)" toolTipText="Time to freeze for, in seconds. If 0, it will unfreeze the server." value="60"/>
                        </FormDialog>
                    </MenuItem>
                </Menu>
            </MenuBar>
            <Zone zone="CENTER">
                <Div zone="NORTH" gap="true" bgColor="255;255;255">
                    <Text id="host" field="true"/>
                    <Text id="address" field="true"/>
                    <Text id="replication" field="true" toolTipText="Replication status" icon="overlay/tick_circle.png" iconGroup="icons"/>
                    <Text id="maxObjectSize" field="true"/>
                    <Text id="durability" field="true" icon="overlay/shield_blue.png" iconGroup="icons"/>
                    <org.mongo.jmongob.CmdField id="serverStatus" cmd="serverStatus"/>
                </Div>
            </Zone>
        </org.mongo.jmongob.ServerPanel>
        <org.mongo.jmongob.ReplSetPanel id="replSetPanel">
            <MenuBar id="menu" zone="NORTH" minHeight="50" prefHeight="50">
                <Text id="icon" icon="replSet.png" iconGroup="icons" toolTipText="Server"/>
                <Menu id="replSet">
                    <MenuItem id="refresh" label="Refresh" call="refresh" icon="stock_refresh.png" iconGroup="icons" key="r" keyMod="cmd+shift"/>
                </Menu>
                <Menu id="command">
                    <MenuItem id="replicaSetStatus" call="replicaSetStatus" label="RS Status"/>
                    <MenuItem id="oplogInfo" call="oplogInfo" label="Oplog Info"/>
                </Menu>
                <Menu id="tools">
                    <MenuItem id="compareReplicas" call="compareReplicas">
                        <FormDialog>
                            <Text value="This tool will compare all replicas, stop writing to the db for better accuracy."/>
                            <ComboBox id="crStat" label="Comparison Stat" items="Count;Data Size" toolTipText="What to compare"/>
                        </FormDialog>
                    </MenuItem>
                </Menu>
            </MenuBar>
            <Zone zone="CENTER">
                <Div zone="NORTH" gap="true" bgColor="255;255;255">
                    <Text id="name" field="true"/>
                    <Text id="maxObjectSize" field="true"/>
                </Div>
            </Zone>
        </org.mongo.jmongob.ReplSetPanel>
        <org.mongo.jmongob.RouterPanel id="routerPanel">
            <MenuBar id="menu" zone="NORTH" minHeight="50" prefHeight="50">
                <Text id="icon" icon="superman_icon.png" iconGroup="icons" toolTipText="MongoS router"/>
                <Menu id="router" label="MongoS">
                    <MenuItem id="refresh" label="Refresh" call="refresh" icon="stock_refresh.png" iconGroup="icons" key="r" keyMod="cmd+shift"/>
                </Menu>
                <Menu id="Sharding">
                    <MenuItem id="listShards" call="listShards"/>
                    <MenuItem id="addShard" call="addShard">
                        <FormDialog>
                            <TextField id="asHost" label="Server Name" toolTipText="Server hostname" nonEmpty="true"/>
                            <IntSpinner id="asPort" label="Server Port" minValue="1" value="27017" toolTipText="Server port"/>
                            <TextField id="asShardName" label="Shard Name" toolTipText="Optional, a shard name"/>
                            <TextField id="asReplSetName" label="Replica Set Name" toolTipText="If adding a replica set, the replica set name"/>
                            <IntSpinner id="asMaxSize" label="Max Size MB" minValue="0" toolTipText="Maximum size in megabytes to store in the shard"/>
                        </FormDialog>
                    </MenuItem>
                    <MenuSeparator/>
                    <CheckBoxMenuItem id="autoBalance" call="autoBalance"/>
                    <MenuSeparator/>
                    <MenuItem id="regenConfigDB" label="Regenerate Config DB" call="regenConfigDB">
                        <FormDialog okLabel="start">
<!--                            <TextField id="regenServers" label="Servers" toolTipText="Comma-separated list of servers (host:port) containing the data. You must provide at least one available server per shard."/> -->
                            <TextArea id="regenServers" label="Servers" rows="10" columns="50" editable="true" toolTipText="List of servers containing the data, one by line, in format host:port/shardName. You must provide at least one available server per shard." nonEmpty="true"/>
                            <TextField id="regenDB" label="Database" toolTipText="Database to scan" nonEmpty="true"/>
                            <TextField id="regenCollection" label="Collection" toolTipText="Collection to scan" nonEmpty="true"/>
                            <org.mongo.jmongob.DocBuilderField id="regenShardKey" label="Sharding Key" nonEmpty="true"/>
                            <CheckBox id="regenKeyUnique" label="Unique Key" toolTipText="Whether sharding key is unique" value="false"/>
                        </FormDialog>
                        <FormDialog id="regenRSList" label="Replica Set List" okLabel="Next">
                            <Text value="Check that the following information is correct and complete..."/>
                            <TextArea id="regenRSListArea" label="Replica Sets" rows="10" columns="50" editable="false"/>
                        </FormDialog>
                        <ConfirmDialog id="regenDeleteChunks" label="Confirm Delete" text="There are existing chunks for this NS. Delete chunks? (Cannot be undone)" okLabel="Continue"/>
                        <ConfirmDialog id="regenConfirm" label="Start Regen" text="Regenerating the config DB may take a long time and read a lot of data from your DBs. Do you want to continue?" okLabel="Continue"/>
                    </MenuItem>
                </Menu>
            </MenuBar>
            <Zone zone="CENTER">
                <Div zone="NORTH" gap="true" bgColor="255;255;255">
                    <Text id="host" field="true"/>
                    <Text id="address" field="true"/>
                </Div>
            </Zone>
        </org.mongo.jmongob.RouterPanel>
        <org.mongo.jmongob.EditBinaryDialog>
            <IntSpinner id="size"/>
        </org.mongo.jmongob.EditBinaryDialog>
        <org.mongo.jmongob.EditBooleanDialog>
            <CheckBox id="value" label="True"/>
        </org.mongo.jmongob.EditBooleanDialog>
        <org.mongo.jmongob.EditCodeDialog>
            <TextField id="value" label="Code"/>
            <TextField id="scope"/>
        </org.mongo.jmongob.EditCodeDialog>
        <org.mongo.jmongob.EditDateDialog>
            <DateSpinner id="value" label="Date"/>
        </org.mongo.jmongob.EditDateDialog>
        <org.mongo.jmongob.EditDoubleDialog>
            <DoubleSpinner id="value"/>
        </org.mongo.jmongob.EditDoubleDialog>
        <org.mongo.jmongob.EditLongDialog>
            <LongSpinner id="value"/>
        </org.mongo.jmongob.EditLongDialog>
        <org.mongo.jmongob.EditObjectIdDialog>
            <Text value="Fill in either a String, or values, or leave blank to auto-generate"/>
            <TextField id="string" toolTipText="A 24 character string describing the id"/>
            <IntSpinner id="time" toolTipText="Creation time in second"/>
            <IntSpinner id="machine" toolTipText="Value identifying the machine and process"/>
            <IntSpinner id="inc" toolTipText="Incremental value, to ensure uniqueness within a second"/>
            <Text id="currentTime" field="true"/>
            <Text id="currentMachine" field="true"/>
            <Text id="currentInc" field="true"/>
            <Text value="Add a namespace to make a DBRef"/>
            <TextField id="namespace" toolTipText="Namespace identifying the collection of the reference"/>
        </org.mongo.jmongob.EditObjectIdDialog>
        <org.mongo.jmongob.EditPatternDialog>
            <TextField id="value"/>
        </org.mongo.jmongob.EditPatternDialog>
        <org.mongo.jmongob.EditStringDialog>
            <TextField id="value"/>
        </org.mongo.jmongob.EditStringDialog>
        <org.mongo.jmongob.EditTimestampDialog>
            <IntSpinner id="time"/>
            <IntSpinner id="increment"/>
        </org.mongo.jmongob.EditTimestampDialog>
        <org.mongo.jmongob.EditUuidDialog>
            <TextField id="value"/>
        </org.mongo.jmongob.EditUuidDialog>
        <org.mongo.jmongob.DocBuilderDialog id="docBuilderDialog">
            <Scroller fixedSize="600;400">
                <Zone>
                    <Div id="div" zone="NORTH"/>
                </Zone>
            </Scroller>
        </org.mongo.jmongob.DocBuilderDialog>
    </org.mongo.jmongob.GlobalStore>
    <Frame id="frame" title="JMongoBrowser" masterFrame="true" menuId="mainmenu" icon="mongo_leaf_32.png" iconGroup="icons" contexts="default;Connect" preferredSize="1100;700" bgColor="255;255;255">
        <org.mongo.jmongob.MainMenu id="mainMenu" start="start">
            <Menu id="file" alt="f">
                <MenuItem id="connect" alt="c" key="k" keyMod="cmd" call="connect">
                    <org.mongo.jmongob.ConnectDialog id="connectDialog">
                        <Text value="Either provide a URI ..."/>
                        <TextField id="uri" label="URI" toolTipText="Enter URI of mongo dbs like 'mongodb://...'"/>
                        <Text value="Or the settings below"/>
                        <TextField id="servers" toolTipText="Comma separated list of servers to connect to" value=""/>
                        <TextField id="databases" toolTipText="Optional, a comma separated list of databases to connect to" value=""/>
                        <Div id="connectionPool" titled="true">
                            <IntSpinner id="connectionsPerHost" minValue="1" value="10" toolTipText="Maximum number of concurrent connections for one server"/>
                            <IntSpinner id="blockingThreadMultiplier" minValue="0" value="5" toolTipText="This value multiplied by the maximum number of connections, gives how many threads are allowed to wait on a connection to be available."/>
                            <IntSpinner id="maxWaitTime" minValue="0" value="120000" toolTipText="Maximum time in milliseconds that a thread should wait for a connection to be available"/>
                        </Div>
                        <Div id="connection" titled="true">
                            <ComboBox id="socketType" value="0" items="Plain;SSL" toolTipText="Type of socket to use."/>
                            <IntSpinner id="connectTimeout" minValue="0" value="0" toolTipText="Timeout for the socket connect operation"/>
                            <IntSpinner id="socketTimeout" minValue="0" value="0" toolTipText="Timeout for the socket read/write operations"/>
                            <CheckBox id="autoConnectRetry" value="false" toolTipText="If true, then driver will keep retrying to connect to the server in case of connection failure"/>
                            <CheckBox id="safe" label="Safe Writes" value="true" toolTipText="Sets the global WriteConcern as SAFE, which means that writes are acknowledged by the server"/>
                        </Div>
                    </org.mongo.jmongob.ConnectDialog>
                </MenuItem>
                <MenuSeparator/>
                <MenuItem id="exit" label="Quit" alt="q" key="q" keyMod="cmd" call="exit"/>
            </Menu>
            <Menu id="tools" alt="o">
                <MenuItem id="importFile" alt="i" call="importFile"/>
                <MenuSeparator/>
                <MenuItem id="preferences" alt="p" key="comma" keyMod="cmd">
                    <org.mongo.jmongob.AppPreferences id="prefDialog" start="start" buttons="OK_CANCEL_RESET">
                        <TabbedDiv id="optionTabs">
                            <Div id="general" gap="true">
                                <Div id="view" gap="true" titled="true">
                                    <IntSpinner id="treeUpdateRate" minValue="0" step="1000" value="10000" toolTipText="Rate in ms at which to update the Tree information (server down, master, etc). 0 means no automatic updating."/>
                                    <IntSpinner id="inlineDocumentLength" minValue="1" value="100" toolTipText="Number of characters to display for the document inline preview"/>
                                </Div>
                                <Div id="querying" gap="true" titled="true">
                                    <IntSpinner id="getMoreSize" minValue="1" value="50" toolTipText="Number of documents to fetch when getting more results from a cursor"/>
                                </Div>
                            </Div>
                            <Div id="advanced" gap="true">
                                <Div id="lookAndFeel" gap="true" titled="true">
                                    <CheckBox id="useSystemLook" label="Use Native Look *" value="true"/>
                                </Div>
                            </Div>
                        </TabbedDiv>
                        <Text value="* setting requires an application restart."/>
                    </org.mongo.jmongob.AppPreferences>
                </MenuItem>
            </Menu>
            <Menu id="help" alt="h">
                <MenuItem id="about" alt="a">
                    <InfoDialog signIcon="edgytech-small.png" signIconGroup="etIcons" signBorderColor="128;128;128" text="&lt;html&gt;JMongoBrowser v1.0.4&lt;br&gt;By Edgytech / Antoine Girbal"/>
                </MenuItem>
            </Menu>
        </org.mongo.jmongob.MainMenu>
        <Zone id="mainZone" bgColor="255;255;255">
<!--            <org.mongo.jmongob.MainToolBar id="mainToolBar" zone="NORTH" minHeight="50" prefHeight="50" start="start" stop="stop" contexts="Connect">
                <ToolBarSeparator/>
                <MemoryBar id="memBar" focusable="false" maximumSize="120;-1"/>
            </org.mongo.jmongob.MainToolBar> -->
            <SplitPane axis="X" zone="CENTER" resizeWeight="0.2" bgColor="255;255;255">
                <Scroller id="treeScroll" preferredSize="125;-1" maximumSize="125;-1" verticalSpeed="50">
                    <Tree id="tree" label="Mongo Instances" bgColor="255;255;255">
<!-- pop up doesnt work well on root                       <PopUpMenu>
                            <MenuItem id="connect" bind="frame.mainMenu.file.connect"/>
                        </PopUpMenu> -->
                    </Tree>
                </Scroller>
                <SplitPane axis="Y" resizeWeight="0.3">
                    <Scroller preferredSize="-1;300">
                        <org.mongo.jmongob.Workspace id="workspace" bgColor="255;255;255"/>
                    </Scroller>
                    <TabbedDiv id="tabbedResult" preferredSize="-1;700" layout="SCROLL" bgColor="255;255;255" opaque="false"/>
                </SplitPane>
            </SplitPane>
            <Div id="jobDiv" axis="X" gap="true" zone="SOUTH" bgColor="255;255;255">
                <Text value="Jobs:"/>
                <Scroller>
                    <org.mongo.jmongob.JobBar id="jobBar" axis="X" preferredSize="-1;30"  bgColor="255;255;255" opaque="false"/>
                </Scroller>
            </Div>
        </Zone>
    </Frame>
</org.mongo.jmongob.JMongoBrowser>